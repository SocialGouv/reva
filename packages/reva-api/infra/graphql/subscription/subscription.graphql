enum LegalStatus {
  EI
  EURL
  SARL
  SAS
  SASU
  SA
  NC
}

type SubscriptionRequest {
  id: ID!
  companySiret: String!
  companyLegalStatus: LegalStatus!
  companyName: String!
  companyAddress: String
  companyZipCode: String
  companyCity: String
  companyBillingContactFirstname: String!
  companyBillingContactLastname: String!
  companyBillingEmail: String!
  companyBillingPhoneNumber: String!
  companyBic: String!
  companyIban: String!
  accountFirstname: String!
  accountLastname: String!
  accountEmail: String!
  accountPhoneNumber: String!
}

type SubscriptionRequestSummary {
  id: ID!
  accountLastname: String!
  accountFirstname: String!
  accountEmail: String!
  companyName: String!
  companyAddress: String!
  createdAt: Timestamp!
}

input SubscriptionRequestOrderByInput {
  companyName: Sort
  accountLastname: Sort
}

type SubscriptionRequestsPaginated {
  rows: [SubscriptionRequestSummary!]!
  info: PaginationInfo!
}

type Query {
  subscription_getSubscriptionRequests(
    filter: String
    offset: Int
    limit: Int
    orderBy: SubscriptionRequestOrderByInput
  ): SubscriptionRequestsPaginated!
  subscription_getSubscriptionRequest(
    subscriptionRequestId: ID!
  ): SubscriptionRequest
}

enum OrganismTypology {
  generaliste
  expertFiliere
  expertBranche
}

input SubscriptionRequestInput {
  companySiret: String!
  companyLegalStatus: LegalStatus!
  companyName: String!
  companyAddress: String!
  companyZipCode: String!
  companyCity: String!
  companyBillingContactFirstname: String!
  companyBillingContactLastname: String!
  companyBillingEmail: String!
  companyBillingPhoneNumber: String!
  companyBic: String!
  companyIban: String!
  accountFirstname: String!
  accountLastname: String!
  accountEmail: String!
  accountPhoneNumber: String!
  typology: OrganismTypology!
  domaineIds: [String!]
  ccnIds: [String!]
}

type Mutation {
  subscription_createSubscriptionRequest(
    subscriptionRequest: SubscriptionRequestInput!
  ): SubscriptionRequest!
  subscription_validateSubscriptionRequest(subscriptionRequestId: ID!): String
  subscription_rejectSubscriptionRequest(subscriptionRequestId: ID!): String
}
