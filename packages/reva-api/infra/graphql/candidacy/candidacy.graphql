enum Duration {
  unknown
  lessThanOneYear
  betweenOneAndThreeYears
  moreThanThreeYears
  moreThanFiveYears
  moreThanTenYears
}

# QUERY

type Candidacy {
  id: ID!
  deviceId: ID!
  certificationId: ID!
  companionId: ID
  certification: Certification!
  experiences: [Experience!]!
  goals: [CandidateGoal!]!
  phone: String
  email: String
  candidacyStatuses: [CandidacyStatus!]!
  createdAt: Date!
}

type CandidacySummary {
  id: ID!
  deviceId: ID!
  certificationId: ID!
  companionId: ID
  certification: Certification!
  phone: String
  email: String
  createdAt: Date!
}

type CandidacyStatus {
  id: ID!
  status: String
  createdAt: Date
}

type Experience {
  id: ID
  title: String!
  startedAt: Date!
  duration: Duration!
  description: String!
}

type CandidateGoal {
  goalId: ID!
  additionalInformation: String
}

type Companion {
  id: ID!
  name: String!
  street: String!
  city: String!
  zipCode: String!
}

type Query {
  getCandidacy(deviceId: ID!): Candidacy
  getCandidacies: [CandidacySummary!]!
  getCompanions: [Companion!]!
}

# MUTATIONS

input CandidacyInput {
  deviceId: ID!
  certificationId: ID!
}

input CertificationChangeInput {
  candidacyId: ID!
  certificationId: ID!
}

input ExperienceInput {
  title: String!
  startedAt: Date!
  duration: Duration!
  description: String!
}

input CandidateGoalInput {
  goalId: ID!
  additionalInformation: String
}

type Mutation {
  candidacy_createCandidacy(candidacy: CandidacyInput!): Candidacy
  candidacy_submitCandidacy(deviceId: ID!, candidacyId: ID!): Candidacy
  candidacy_updateCertification(
    deviceId: ID!
    candidacyId: ID!
    certificationId: ID!
  ): Candidacy
  candidacy_addExperience(
    deviceId: ID!
    candidacyId: ID!
    experience: ExperienceInput
  ): Experience
  candidacy_updateExperience(
    deviceId: ID!
    candidacyId: ID!
    experienceId: ID!
    experience: ExperienceInput
  ): Experience
  candidacy_removeExperience(
    deviceId: ID!
    candidacyId: ID!
    experienceId: ID!
  ): Void
  candidacy_updateGoals(
    deviceId: ID!
    candidacyId: ID!
    goals: [CandidateGoalInput!]!
  ): Int!
  candidacy_updateContact(
    deviceId: ID!
    candidacyId: ID!
    email: String
    phone: String
  ): Candidacy
}
